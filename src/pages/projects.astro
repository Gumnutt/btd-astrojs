---
import { getCollection } from 'astro:content'

import MainLayout from "../layouts/MainLayout.astro"
import ProjectCard from "../components/ProjectCard.astro"

const projects = (await getCollection('projects')).sort((a, z) => +new Date(z.data.date) - +new Date(a.data.date))

---

<MainLayout title="Brynn the dev | Posts">
  <main class="wrapper posts">
    <div class="posts--header">
      <h1>Look mum, I did a thing</h1>
      <p>Every now and then I like to show off my work. Here's a few of my favourite projects.</p>
    </div>
    <ul class="posts--grid">
      {
        projects.map((project) => (
          <ProjectCard title={project.data.title} short_content={project.data.description} slug={project.slug} imageId={''} />
        ))
      }
    </ul>
  </main>
</MainLayout>
